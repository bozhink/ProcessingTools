{"version":3,"sources":["closetag.js"],"names":["mod","exports","module","require","define","amd","CodeMirror","defineOption","cm","val","old","Init","removeKeyMap","map","name","whenClosing","getOption","Pass","autoCloseCurrent","whenOpening","ranges","listSelections","replacements","opt","i","length","empty","pos","head","tok","getTokenAt","inner","innerMode","getMode","state","mode","tagName","html","configuration","dontCloseTags","htmlDontClose","indentTags","htmlIndent","end","ch","slice","lowerTagName","toLowerCase","type","test","string","charAt","indexOf","closingTagExists","indent","text","newPos","Pos","line","dontIndentOnAutoClose","info","replaceRange","anchor","sel","setSelections","indentLine","autoCloseGT","addKeyMap","typingSlash","dontIndentOnSlash","replacement","start","context","getLine","replaceSelections","collection","elt","e","newTag","scanForClosingTag","Math","min","lastLine","nextClose","tag","cx","onCx","prev","to","next","commands","closeTag"],"mappings":"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"}